This chapter describes the different object models that can be expected within the Calendar42 REST API.

# Event

Attribute name | Type | Mandatory | Editable | Default | Description | Valid value/s |
--- | --- | --- | --- | --- | --- | --- |
id | String | false | false | true | Unique id that identifies the event | |
event_type | String | true | false | 'event' | Type of the event | [event type](/rest-api/constants/#event-type) |
is_suggestion | Boolean | true | true | false | If the event is autogenerated by the system, so it is a suggestion based on the preferences of the user |  |
creator | Object | true | false | [Person](#person) | [Person object](#person) that created that event |  |
modified | [Date](/rest-api/guidelines/#date-format) | false | false | "YYYY-MM-DDThh:hh:mm:ss" | Date of the last modification of the event | |
is_invitation | Boolean | false | true | false | If the event is an invitation. This is an user related value | |
invitation | Object | false | true | [Invitation](#invitation) | In the case that this event is an invitation, this attribute will contain some meta information about the invitation | [Invitation object](#invitation) |
rsvp_status | String | true | true | 'not_replied' | String that defines the rsvp status of the user at this event. This is an user related attribute | [RSVP](/rest-api/constants/#rsvp-status) |
calendar_ids | Array | true | true |  | List of ID's of subscribed calendars | |
start | [Date](/rest-api/guidelines/#date-format) | true | true |  | Start time of the event | |
end | [Date](/rest-api/guidelines/#date-format) | true | true |  | End time of the event | |
start_timezone | String | true | true |  | Time zone of the start time of this event | [Timezone](/rest-api/guidelines/#timezone-format) |
end_timezone | String | true | true |  | Time zone of the end time of this event | [Timezone](/rest-api/guidelines/#timezone-format) |
all_day | Boolean | true | true | false | If the event is an all day event this should have a true as a vaule | |
title | String | true | true |  | The title of the event  | |
description | String | false | true |  | Description of the event | |
color | String | false | true |  | Events can have a color related, this color should be in hsla format | |
logo | String | false | true |  | the url where to reach the event image | |
source_url | String | false | false | Url source of the event | If the event is imported from an external service (ics) this attribute contains the URL where to reach the event information from the source | |
start_location | Object | false | true |  | The location where the event starts | [Location](/rest-api/objects/#location) |
end_location | Object | false | true |  | The location where the event ends | [Location](/rest-api/objects/#location) |
recurrence | Boolean | false | true | false | If the event is a recurrence event |  |
recurrence_parent | String | false | true |  | The ID of the related recurrence event |  |
related_event | Array | false | true | [] | List of events ID's related to this event |  |
sync_token | Integer | false | false |  | The [sync token](/rest-api/guidelines/#sync-token) |  |
permissions | String | true | true | 'subscribed_write' | The string that defines the permission that the user have over this event. This is an user related attribute | [Permission](/rest-api/constants/#permission) |
previous_permission | String | false | false |  | The previous permission that the user had over this event. This is an user related attribute | [Permission](/rest-api/constants/#permission) |
trip | Object | false | true |  | If the event is actually a trip, this attribute will contain all the data related with the trip | [Trip](#trip) |

```javascript
    {
        "id": "<string>",
        "event_type": "<event-type>",
        "is_suggestion": "<bool>",

        "creator": "<person>", // Person created the event
        "created": "<date>",
        "modified": "<date>",

        "is_invitation": "<bool>",
        "invitation": "<string>",

        "rsvp_status": "<rsvp-status>", // See rsvp list

        "calendar_ids": [ "<calendar-id>", "<calendar-id>", "<calendar-id>" ],

        "start": "<date>",
        "end": "<date>",
        "start_timezone": "<string>",
        "end_timezone": "<string>",
        "all_day": "<bool>",

        "title": "<string>",
        "description": "<string>",
        "color": "<string>",
        "logo": "<url>",
        "source_url": "<url>",
        
        "start_location": "<location>",
        "end_location": "<location>",

        "recurrence": "<bool>",
        "recurrence_parent": "<string>",
        
        "related_event": ["<event_id>"], // For now always only contains one

        "sync_token": "<int>",
    
        // Permission over the event
        "permission": "<permission>",
        "previous_permission": "<permission>",

        // present when event_type equals arrive_by, depart_from or route
        "trip": {
            "query_parameters": {
                "transport_mode": "<transport-mode>",
                "time_buffer": "<int>", // Seconds
            },
            "state": {
                "code": "<string>",
                "text": "<string>"
            },
            "data": {
                "legs":[]
            }
        },
        "length": "<float>" // Meters
    }
```

## Event.trip

Events with an [Event Type](/rest-api/constants/#event-type) that equals either `arrive_by`, `depart_from` or `route` will contain trip-data existing of three main elements:

* `query_parameters`: containing the send in parameters that resulted in the trip
* `state`: the state of the trip request (loading, error, success)
* `data`: the actual data belonging to the trip

Next to this trip-data, the event itself will also reflect the start-location, end-location, start-time and end-time of the trip.
Other data and relationships are completely similar to regular events.

### Event.trip.data

The trip data contains an array of legs depicting the different parts of the trip.

Example of a trip containing one leg:

```javascript
"data": {
    "legs":[
        {
            "mode": "<transport_type>",
            "start_time": "<date>",
            "end_time": "<date>",
            "distance": "<float>",
            "duration": "<float>",
            "real_time": "<boolean>",
            "departure_delay": "<int>",
            "arrival_delay": "<int>",
            "transit_leg": "<boolean>",
            "agency_time_zone_offset": "<int>",
            "leg_geometry": {
                "length": "<int>",
                "points": "<string>"
            },
            "from_location": {
                "location_id": "<string>",
                "text": "<string>",  // was "name"
                "geo": { // was in root as lat & lon
                    "latitude": "<float>",
                    "longitude": "<float>"
                },
                "departure": "<date>",
                "arrival": "<date>"
            },
            "to_location": {
                "location_id": "<string>",
                "text": "<string>",  // was "name"
                "geo": { // was in root as lat & lon
                    "latitude": "<float>",
                    "longitude": "<float>"
                },
                "departure": "<date>",
                "arrival": "<date>"
            },
            "steps": [
                {
                    "street_name": "<string>",
                    "distance": "<int>",
                    "elevation": "<array>",
                    "area": "<boolean>",
                    "absolute_direction": "<string>",
                    "relative_direction": "<string>",
                    "stay_on": "<boolean>",
                    "bogus_name": "<boolean>",
                    "geo": { // was in root as lat & lon
                        "latitude": "<float>",
                        "longitude": "<float>"
                    }
                }
            ]
            // Deprecated:
            // "interline-with-previous-leg": "<boolean>",
            // "route": "<string>",
            // "rented-bike": "<boolean>",
            // "pathway": "<boolean>",
        }
    ]
}
```

# Calendar

The calendar data model

Attribute name | Type | Mandatory | Editable | Default | Description | Valid value/s |
--- | --- | --- | --- | --- | --- | --- |
id | String | false | false | true | Unique id that identifies the calendar | |
created | [Date](/rest-api/guidelines/#date-format) | false | false |  | Date were the calendar was created | |
modified | [Date](/rest-api/guidelines/#date-format) | false | false |  | Date of the last modification of the calendar | |
creator | Object | true | false | [Person](#person) | [Person object](#person) that created that calendar |  |
inviter | Object | true | false | [Person](#person) | [Person object](#person) that invited to this calendar |  |
permission | String | false | false |  | Type of [permission](/rest-api/constants/#permission) that the user have in this calenda. This is an used related attribute | [Permission](/rest-api/constants/#permission) |
name | String | true | true |  | Name of the calendar | |
description | String | false | true |  | Description of the calendar | |
category | String | false | true |  | Category of the calendar (will be lowercased and stripped from spaces by default) | |
color | String | false | true |  | Calendars can have a color related, this color should be in hsla format | |
icon | String | false | true |  | the url where to reach the calendar icon | |
logo | String | false | true |  | the url where to reach the calendar image | |
sync_token | Integer | false | false |  | The [sync token](/rest-api/guidelines/#sync-token) |  |
url| String | false | false |  | The url where to reach the calendar information | |
calendar_type | String | false | false |  | The type of the calendar | [Calendar type](#calenda-type) |
first_import | [Date](/rest-api/guidelines/#date-format) | false | false |  | Date of first successfull import, not send if never imported | |
import_failed | [Date](/rest-api/guidelines/#date-format) | false |  | true | Date of last failure, not send if imported successfull afterwards | |


```javascript
    {
        "id": "<string>",

        "created": "<date>",
        "modified": "<date>",

        "creator": "<person>",
        "inviter": "<person>",

        "permission": "<permission>",
        "previous_permission": "<permission>",

        "name": "<string>",
        "description": "<string>",
        "category": "<string>",
        "color": "<string>",
        "icon": "<url>",
        "logo": "<url>",

        "sync_token": "<int>",

        "url": "<string>",
        "calendar_type": "<calendar-type>",

        "first_import": "<date>",

        "import_failed": "<date>" 
    }
```

# Location
    
```javascript
    {
        "id": "<string>",
        "text": "<string>",
        "address": "<string>",
        "postcode": "<string>",
        "city": "<string>",
        "country": "<string>",
        "geo": {
            "latitude": "<float>",
            "longitude": "<float>"
        },
        "labels": [
            {
                "id": "<string>",
                "name": "<string>",
                "location_type": "<location-type>",
                "service_id": "<string>",  // null if not a service related place
                "description": "<string>",
                "weight": "<int>"
            }
        ]
    }
```
   
# Position
<!-- *TODO : further explain fields* -->

```javascript
    {
	    // Position meta data
        "source"        : "<the client app name>",
	    "type"          : "<normal || forced>",
	    "timestamp"     : "<string representation of date and time>",
	    "user_info"     : "<An object containing information of user>",

	    // Position data
	    "latitude"      : "<string representation of latitude value (double)>",
	    "longitude"     : "<string representation of longitude value (double)>",
	    "accuracy"      : "<string representation of accurracy value (double)>",
	    "heading"       : "<string representation of heading value (double)>",
	    "speed"         : "<string representation of speed value (double)>",
	    "altitude"      : "<string representation of altitude value (double)>",
	    "altitude_accuracy": "<string representation of altitude_accuracy value (double)>"
    }
```

# Invitation

```javascript
	{
	    "actor": "<person>",
	    "message": "<string>",
	    "created": "<date>",
	}
```

# Person

```javascript
    {
        "id": "<string>",
        "first_name": "<string>",
        "last_name": "<string>",
        "photo": "<url>",
        "email": "<email>",
        "phonenumber": "<phonenumber>",
    }
```

# Subscription

```javascript
    {
        "id": "<string>",

        "object": {
            "object_type": "<event || calendar>",
            "id": "<string>",
        }

        "subscriber": "<person>", // Person that has the subscription
        "creator": "<person>", // Person created the subscription

        "is_invitation": "<boolean>",
        "rsvp_status": "<rsvp-status>",
        "permission": "<permission>",
    }
```
